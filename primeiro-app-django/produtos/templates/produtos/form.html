<!DOCTYPE html>
<html>

<head>
  <title>{% if editar %}Editar Produto{% else %}Novo Produto{% endif %}</title>

  <style>
    body {
      font-family: Arial;
      background: #f2f2f2;
      padding: 20px;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      width: 300px;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-top: 8px;
      border-radius: 5px;
    }

    button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      background: blue;
      color: white;
      border-radius: 5px;
    }
  </style>

</head>

<body>

  <h1>{% if editar %}Editar Produto{% else %}Novo Produto{% endif %}</h1>

  <div class="card">
    {% if erro %}
    <div style="background: #ffebee; color: #c62828; padding: 10px; border-radius: 5px; margin-bottom: 15px;">
      {{ erro }}
    </div>
    {% endif %}

    <form method="POST">
      {% csrf_token %}

      <label>Nome:</label>
      <input type="text" name="nome" value="{% if produto %}{{ produto.nome }}{% endif %}" required>

      <label>Preço:</label>
      <input type="number" step="0.01" name="preco" value="{% if produto %}{{ produto.preco }}{% endif %}" required>

      <button type="submit">{% if editar %}Salvar Alterações{% else %}Cadastrar{% endif %}</button>
    </form>

    <a href="{% url 'listar_produtos' %}"
      style="display: inline-block; margin-top: 10px; text-decoration: none; color: #666;">
      ← Voltar para lista
    </a>
  </div>

</body>

</html>